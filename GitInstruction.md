![Logo](Git-Logo-1788C.png)
# Работа с Git и GitHub

## 1. Проверка наличия установленного Git
В терминале выполнить команду `git --version`
Если Git установлен, появится сообщение с информацией о версии программы. Иначе будет сообщение об ошибке:
```
bash: git: command not found
```

## 2. Установка Git
1. Загружаем последнюю версию Git с сайта *https://git-scm.com/downloads*.

2. Устанавливаем с настройками по умолчанию.

## 3. Настройка Git
Первое, что вам следует сделать после установки Git - указать ваше имя и адрес электронной почты. Это важно, потому что каждый коммит в Git содержит эту информацию, и она включена в коммиты, передаваемые вами, и не может быть далее изменена.

Для установки своих **имени** и ***email-адреса*** используются следующие команды:
```
git config --global user.name "John Doe"
git config --global user.email johndoe@example.com
```
Опять же, если указана опция `--global`, то эти настройки достаточно сделать только один раз, поскольку в этом случае Git будет использовать эти данные для всего, что вы делаете в этой системе. Если для каких-то отдельных проектов вы хотите указать другое имя или электронную почту, можно выполнить эту же команду без параметра --global в каталоге с нужным проектом.

Если вы хотите проверить используемую конфигурацию, можете использовать команду `git config --list`, чтобы показать все настройки, которые Git найдёт.

## 4. Инициализация репозитория
Для инициализации проекта необходимо в терминале перейти в каталог с проектом и выполнить команду:
```
git init
```
Эта команда создаёт в текущем каталоге новый подкаталог с именем .git, содержащий все необходимые файлы репозитория — структуру Git репозитория. На этом этапе ваш проект ещё не находится под версионным контролем. 

## 5. Запись изменений в репозиторий
Основной инструмент, используемый для определения, какие файлы в каком состоянии находятся - это команда `git status`. Если вы выполните эту команду сразу после клонирования, вы увидите что-то вроде этого:
```
$ git status
На ветке master
Ваша ветка обновлена в соответствии с «origin/master».

нечего коммитить, нет изменений в рабочем каталоге
```
Это означает, что у вас чистый рабочий каталог, другими словами - в нем нет отслеживаемых измененных файлов. Git также не обнаружил неотслеживаемых файлов, в противном случае они бы были перечислены здесь. Наконец, команда сообщает вам на какой ветке вы находитесь и сообщает вам, что она не расходится с веткой на сервере.

Если вы хотите добавить под версионный контроль существующие файлы, вам стоит добавить их в индекс и осуществить первый коммит изменений.

Для добавления определённого файла в индекс используем следующую команду:
```
git add <имя добавляемого файла>
```    
Для добавления в индекс всех изменённых файлов используем следующую команду:
```
git add .
```
Теперь, когда ваш индекс находится в таком состоянии, как вам и хотелось, вы можете зафиксировать свои изменения. Запомните, всё, что до сих пор не проиндексировано — любые файлы, созданные или изменённые вами, и для которых вы не выполнили git add после редактирования - не войдут в этот коммит. Они останутся изменёнными файлами на вашем диске. 

Чтобы зафиксировать изменения  выполняем одну из следующих команд:

1. `git commmit` - эта команда откроет выбранный вами текстовый редактор. 
 
    В редакторе будет отображён следующий текст:
    ```
    # Пожалуйста, введите сообщение коммита для ваших изменений. Строки,
    # начинающиеся с «#» будут проигнорированы, а пустое сообщение
    # отменяет процесс коммита.
    #
    # На ветке master
    # Изменения, которые будут включены в коммит:
    #       изменено:      GitInstruction.md
    #
    ```
2. `git commit -m "Доработка инструкции"` - эта команда создаёт коммит с комментарием, указанным в кавычках после параметра `-m`

## 6. Просмотр истории коммитов
После того, как вы создали несколько коммитов или же клонировали репозиторий с уже существующей историей коммитов, вероятно вам понадобится возможность посмотреть что было сделано - историю коммитов. Одним из основных и наиболее мощных инструментов для этого является команда `git log`.

Результатом запуска команды будет такой:
```
$ git log
commit 679f061755310ec0331affb438e89aeff727d414 (HEAD -> master)
Author: Popov Ivan <lord.iv88@gmail.com>
Date:   Tue Feb 14 09:45:40 2023 +0800

    Доработка инструкции

commit 34c5da2b66d2d277e87afeb766ec8f056a5fd46d
Author: Popov Ivan <lord.iv88@gmail.com>
Date:   Mon Feb 13 13:52:44 2023 +0800

    Добавлен .gitignore

commit 07a66c478d77106c7edfe4ac4b2d8c9cb70c8eba
Author: Popov Ivan <lord.iv88@gmail.com>
Date:   Mon Feb 13 13:52:28 2023 +0800

    Добавлен раздел 4 - Git-команды

commit 5ad9915532166b2b24ea15bc813f843dd9453d25
Author: Popov Ivan <lord.iv88@gmail.com>
Date:   Mon Feb 13 13:35:59 2023 +0800

    Добавлен раздел 3 - Настройка Git
:
```
По умолчанию (без аргументов) git log перечисляет коммиты, сделанные в репозитории в обратном к хронологическому порядке - последние коммиты находятся вверху. Из примера можно увидеть, что данная команда перечисляет коммиты с их SHA-1 контрольными суммами, именем и электронной почтой автора, датой создания и сообщением коммита.

Также можно посмотреть краткую историю коммитов, используя команду `git log --oneline`. Результатом выполнения будет такой: 
```
679f061 (HEAD -> master) Доработка инструкции
34c5da2 Добавлен .gitignore
07a66c4 Добавлен раздел 4 - Git-команды
5ad9915 Добавлен раздел 3 - Настройка Git
290b380 Добавили раздел 2 - Установка Git
1f61381 Добавили раздел 1 - Проверка наличия установленного Git
eefffa1 Добавили заголовок
3906c42 Initial commit
```

## 7. Перемещение между сохранениями
Из предыдущего раздела мы узнали как посмотреть историю изменений с помощью команды `git log`. Теперь чтобы переключиться на конкретный коммит и посмотреть состояния файлов, которые были добавлены или изменены в этом коммите, используем следующую команду:
```
git checkout <хэш коммита>
```
Чтобы переключиться к актуальному состоянию используем следующую команду:
```
git checkout <главная ветка репозитория>
```
Чаще всего **главная ветка репозитория** называется **master**, с недавнего времени существует рекомендация именовать главную ветку репозитория как **main**.

## 8. Игнорирование файлов
Для того чтобы исключить из отслеживания в репозитории определённые файлы и папки необходимо создать там файл ***.gitignore*** и записать в него их названия или шаблоны, соответствующие таким файлам или папкам.

## 9. Создание веток в Git
Ветка в Git - это простой перемещаемый указатель на один из коммитов, обычно последний в цепочке коммитов.
По умолчанию имя основной ветки в Git - **master**.

Создать ветку можно командой:
```
git branch <имя новой ветки>
```

## 10. Слияние веток и разрешение конфликтов
Для слияния выбранной ветки с текущей нужно выполнить команду:
```
git merge <название выбранной ветки>
```
Если была изменена одна и та же часть файла в обеих ветках, тогда может возникнуть конфликт, который потребует участия пользователя.

## 11. Удаление веток
Для удаление ветки используется следующая команда:
```
git branch -d <название ветки>
```
При удалении ветки может выводиться следующее сообщение:
```
error: Нельзя удалить ветку «<название ветки>» т.к. она активна на «~/gb_lessons/developer/geek/version_control/gitinstruction»
```
Это значит, что пользователь пытается удалить ветку, на которой он находится. 
Для решения этой проблемы необходимо перейти на любую другую ветку и заново выполнить команду удаления ветки.

Также при удалении может возникнуть следующая ошибка:
```
error: Ветка «<название ветки>» не слита полностью.
Если вы уверены, что хотите ее удалить, запустите «git branch -D <название ветки>».
```
Это значит, что удаляемая ветка содержит изменения, которых нет в активной ветке.
Для решения этой проблемы есть два варианта:
   1. Удаляем ветку с игнорированием ошибки:
      ```
      git branch -D <название ветки>
      ```
   2. Делаем слияние с удаляемой веткой:
      ```
      git merge <удаляемая ветка>
      ```
      и после запускаем команду удаления ветки.

## 12. Работа с удалёнными репозиториями

### 1. Создать аккаунт на GitHub
Для создания аккаунта на GitHub нужно перейти на страницу https://github.com/signup и пройти процедуру регистрации

### 2. Создать локальный репозиторий
Для создания локального репозитория необходимо использовать команду: `git init`

### 3. Создать удалённый репозиторий
Для создания удалённого репозитория необходимо:
1. перейти на страницу https://github.com/new, заполнить поле **Repository Name**
2. выбрать тип репозитория **Public**(репозиторий, доступный всем желающим) или **Private**(репозиторий, доступный только тем, кому открыл доступ владелец).
3. можно сразу добавить файл README, отметив галочку **Add a README file**
4. также можно сразу добавить файл **.gitignore** и выбрать лицензию.

### 4. Связать удалённый репозиторий с локальным
После создания репозитория без добавления файлов **README.md** и **.gitignore** GitHub предложит выполнить несколько инструкций в терминале:
```
echo "# наименование_репозитория" >> README.md
git init
git add README.md
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/<ваш_аккаунт>/<наименование_репозитория>.git
git push -u origin main
```
Эти инструкции позволят вам связать локальный репозиторий с удалённым, созданным в GitHub.

В случае, если работа с локальным репозиторием уже была начата и вы хотите связать локальный репозиторий с удалённым, необходимо выполнить следующие команды:
```
git remote add origin https://github.com/<ваш_аккаунт>/<наименование_репозитория>.git`
git branch -M main
git push -u origin main
```
Итоги выполнения команд:

`git remote add origin https://github.com/<ваш_аккаунт>/<наименование_репозитория>.git` - команда добавит удалённый репозиторий к проекту

`git branch -M main` - команда переименует активную локальную ветку в **main**

`git push -u origin main` - команда создаст ветку **main** в удалённом репозитории

### 5. Обмен изменениями с удалённым репозиторием
Для передачи изменений, произведённых в локальном репозитории, в удалённый необходимо использовать команду:
```
git push
```
Если передаваемой ветки не будет в удалённом репозитории, то git предложит выполнить следующую команду:
```
git push --set-upstream origin <наименование_ветки>
```

Для получения изменений с удалённого репозитория в локальный необходимо использовать команду:
```
git pull
```
При получении данных может возникнуть конфликт, который потребует участия пользователя в его разрешении.

### 6. Работа с "чужими" репозиториями
Чтобы начать работу с чужим репозиторием необходимо:
1. Перейти на страницу репозитория в GitHub и нажать кнопку **fork**. После нажатия на кнопку среди ваших удалённых репозиториев создастся новый, который будет полной копией того, с которым вы пожелали работать. 
2. Переходим на страницу этого созданного репозитория среди ваших удалённых и копируем адрес для клонирования.
3. Локально создаём папку для проекта, переходим в неё и в терминале для этой директории вводим следующую команду:
```
git clone https://github.com/<ваш_аккаунт>/<наименование_репозитория>.git
```

### 7. Создание pull-реквестов
Для того чтобы отправить изменения в "чужой" удалённый репозиторий вам необходимо создать pull-реквест.

Для этого нужно перейти на страницу https://github.com/<ваш_аккаунт>/<наименование_репозитория>/compare и выбрать ветки, которые мы хотим слить.

В **base** мы выберем ветку, в которую хотим слить обновления.

В **compare** мы выберем ветку, из которой хотим взять обновления.

После создания pull-реквест отобразится у автора репозитория, который сможет слить обновления, нажав кнопку **Merge pull request**, отправить на доработку или отклонить pull-реквест, нажав кнопку **Close pull request**
